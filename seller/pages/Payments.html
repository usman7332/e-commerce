<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payments & Earnings - Seller Dashboard</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
      }


      /* Content */
      .main-content {
        padding: 20px;
        margin-top: 20px;
      }

      .page {
        display: none;
      }

      .page.active {
        display: block;
      }

      .main-content h1 {
        color: #232f3e;
        margin-bottom: 20px;
        font-size: 24px;
      }

      /* Metrics Grid */
      .metrics-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 40px;
      }

      .metric-card {
        flex: 1 1 220px;
        background: white;
        padding: 15px;
        border-radius: 10px;
        border-left: 5px solid;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .metric-card:hover {
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        transform: translateY(-4px);
      }

      .metric-card p {
        opacity: 0.6;
        font-size: 14px;
        margin-bottom: 10px;
      }

      .metric-value {
        font-size: 22px;
        font-weight: 700;
        color: #232f3e;
      }

      .metric-label {
        font-size: 12px;
        color: #666;
        margin-top: 8px;
      }

      .metric-change {
        font-size: 12px;
        color: #28a745;
        margin-top: 8px;
      }

      .metric-change.negative {
        color: #dc3545;
      }

      /* Charts Section */
      .charts-section {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 20px;
        margin-bottom: 40px;
      }

      .chart-card {
        flex: 1 1 48%;
        min-height: 300px;
        background: white;
        border-radius: 10px;
        padding: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .chart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        padding: 15px;
      }

      .chart-title {
        font-size: 16px;
        font-weight: 600;
        color: #232f3e;
      }

      .chart-tabs {
        display: flex;
        gap: 10px;
      }

      .chart-tab {
        padding: 8px 16px;
        border: 1px solid #ddd;
        background-color: white;
        border-radius: 6px;
        cursor: pointer;
        font-size: 12px;
        transition: all 0.2s;
      }

      .chart-tab.active {
        background-color: #232f3e;
        color: white;
        border-color: #232f3e;
      }

      .chart-tab:hover {
        background-color: #f5f5f5;
      }

      canvas {
        max-width: 100%;
        max-height: 300px;
      }

      /* Notifications Panel */
      .notif-panel {
        position: fixed;
        top: 60px;
        right: 0;
        width: 380px;
        height: calc(100vh - 60px);
        background-color: white;
        border-left: 1px solid #ddd;
        box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
        transform: translateX(380px);
        transition: transform 0.3s ease;
        z-index: 500;
        overflow-y: auto;
      }

      .notif-panel.active {
        transform: translateX(0);
      }

      .notif-header {
        padding: 20px;
        border-bottom: 1px solid #ddd;
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #232f3e;
        color: white;
      }

      .notif-title {
        font-size: 16px;
        font-weight: 600;
      }

      .notif-close {
        background: none;
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
      }

      .notif-list {
        padding: 0;
        list-style: none;
      }

      .notif-item {
        padding: 15px 20px;
        border-bottom: 1px solid #ddd;
        transition: background-color 0.2s;
      }

      .notif-item:hover {
        background-color: #f5f5f5;
      }

      .notif-item.unread {
        background-color: #f0f8ff;
        border-left: 4px solid #0066c0;
      }

      .notif-item-title {
        font-size: 14px;
        font-weight: 600;
        color: #232f3e;
        margin-bottom: 5px;
      }

      .notif-item-text {
        font-size: 13px;
        color: #666;
        margin-bottom: 8px;
      }

      .notif-item-time {
        font-size: 12px;
        color: #999;
      }

      /* Orders Table */
      .orders-section {
        background-color: white;
        padding: 25px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
        flex-wrap: wrap;
        gap: 15px;
      }

      .section-title {
        font-size: 18px;
        font-weight: 600;
        color: #232f3e;
      }

      .search-filter {
        display: flex;
        gap: 12px;
        align-items: center;
      }

      .search-bar {
        position: relative;
        flex: 1;
        min-width: 200px;
      }

      .search-bar input {
        width: 100%;
        padding: 10px 15px 10px 40px;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 13px;
      }

      .search-bar input:focus {
        outline: none;
        border-color: #232f3e;
        box-shadow: 0 0 0 3px rgba(35, 47, 62, 0.1);
      }

      .search-icon {
        position: absolute;
        left: 12px;
        top: 50%;
        transform: translateY(-50%);
        color: #666;
        font-size: 18px;
        pointer-events: none;
      }

      .filter-select {
        padding: 10px 15px;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 13px;
        background-color: white;
        cursor: pointer;
        min-width: 140px;
      }

      .filter-select:focus {
        outline: none;
        border-color: #232f3e;
      }

      .data-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
      }

      .data-table thead tr {
        border-bottom: 2px solid #ddd;
        background-color: #f5f5f5;
      }

      .data-table th {
        padding: 15px;
        text-align: left;
        font-weight: 600;
        color: #232f3e;
        font-size: 13px;
        text-transform: uppercase;
      }

      .data-table tbody tr {
        border-bottom: 1px solid #ddd;
        transition: background-color 0.2s;
      }

      .data-table tbody tr:hover {
        background-color: #f5f5f5;
      }

      .data-table td {
        padding: 15px;
        font-size: 13px;
      }

      .order-id {
        font-weight: 600;
        color: #232f3e;
        cursor: pointer;
      }

      .order-id:hover {
        text-decoration: underline;
      }

      .product-info {
        display: flex;
        gap: 10px;
        align-items: center;
      }

      .product-img {
        width: 40px;
        height: 40px;
        background-color: #f5f5f5;
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #666;
        font-size: 18px;
      }

      .product-name {
        font-weight: 500;
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .status-badge {
        display: inline-block;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
      }

      .status-pending {
        background-color: #fff3cd;
        color: #856404;
      }

      .status-shipped {
        background-color: #d1ecf1;
        color: #0c5460;
      }

      .status-delivered {
        background-color: #d4edda;
        color: #155724;
      }

      .status-cancelled {
        background-color: #f8d7da;
        color: #721c24;
      }

      .btn-view {
        background: none;
        border: none;
        color: #0066c0;
        cursor: pointer;
        font-size: 13px;
        font-weight: 500;
        padding: 5px 10px;
        transition: color 0.2s;
      }

      .btn-view:hover {
        color: #232f3e;
        text-decoration: underline;
      }

      /* Pagination */
      .pagination {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-top: 20px;
      }

      .pagination button {
        padding: 8px 12px;
        border: 1px solid #ddd;
        background-color: white;
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px;
        transition: all 0.2s;
      }

      .pagination button:hover {
        background-color: #f5f5f5;
        border-color: #232f3e;
      }

      .pagination button.active {
        background-color: #232f3e;
        color: white;
        border-color: #232f3e;
      }

      .pagination button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      /* Responsive */
      @media (max-width: 1080px) {
        .chart-card {
          flex: 1 1 100%;
          min-height: 250px;
        }

        .metric-card {
          flex: 1 1 48%;
        }
      }

      @media (max-width: 768px) {
        .sidebar {
          width: 260px;
          left: -260px;
        }

        .sidebar.active {
          left: 0;
        }

        .main-content {
          padding: 15px;
        }

        .toggle-btn {
          display: block;
        }

        .close-btn {
          display: block;
        }

        .metric-card {
          flex: 1 1 100%;
        }

        .section-header {
          flex-direction: column;
          align-items: flex-start;
        }

        .search-filter {
          flex-direction: column;
          width: 100%;
        }

        .search-bar {
          width: 100%;
        }

        .filter-select {
          width: 100%;
        }

        .data-table {
          font-size: 12px;
        }

        .data-table th,
        .data-table td {
          padding: 10px;
        }

        .product-info {
          flex-direction: column;
          align-items: flex-start;
        }

        .notif-panel {
          width: 100%;
          transform: translateX(100%);
        }

        .notif-panel.active {
          transform: translateX(0);
        }
      }

      @media (max-width: 710px) {
        .metric-card {
          flex: 1 1 100%;
        }
      }

      /* Header */
      .header-btn {
          background-color: #232f3e;
          padding: 10px;
          display: flex;
          align-items: center;
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          z-index: 100;
      }

      .toggle-btn {
          background: none;
          border: none;
          color: white;
          font-size: 26px;
          cursor: pointer;
      }

      .header-btn h2 {
          color: white;
          margin-left: 20px;
          font-size: 20px;
      }

      /* Sidebar */
      .sidebar {
          position: fixed;
          top: 0;
          left: -260px;
          width: 260px;
          height: 100%;
          background-color: #232f3e;
          color: white;
          transition: left 0.3s ease;
          display: flex;
          flex-direction: column;
          z-index: 1000;
          padding-top: 60px;
      }

      .sidebar.active {
          left: 0;
      }

      .sidebar-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px;
          background: #131921;
      }

      .sidebar-header h2 {
          font-size: 18px;
          font-weight: 600;
      }

      .close-btn {
          background: none;
          border: none;
          color: white;
          font-size: 26px;
          cursor: pointer;
      }

      .nav-menu {
          list-style: none;
          padding: 0;
          margin: 0;
      }

      .nav-item {
          padding: 0;
      }

      .nav-item a {
          display: block;
          padding: 15px 20px;
          color: white;
          text-decoration: none;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
          cursor: pointer;
          transition: background-color 0.2s;
          font-size: 14px;
      }

      .nav-item a:hover {
          background-color: #37475a;
      }

      .nav-item a.active {
          background-color: #37475a;
      }

      /* Overlay */
      .overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          opacity: 0;
          visibility: hidden;
          transition: 0.3s;
          z-index: 500;
      }

      .overlay.active {
          opacity: 1;
          visibility: visible;
      }

      /* Metrics Grid */
      .metrics-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 40px;
      }

      .metric-card {
        flex: 1 1 220px;
        background: white;
        padding: 15px;
        border-radius: 10px;
        border-left: 5px solid;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .metric-card:hover {
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        transform: translateY(-4px);
      }

      .metric-card p {
        opacity: 0.6;
        font-size: 14px;
        margin-bottom: 10px;
      }

      .metric-value {
        font-size: 22px;
        font-weight: 700;
        color: #232f3e;
      }

      .metric-label {
        font-size: 12px;
        color: #666;
        margin-top: 8px;
      }

      .metric-change {
        font-size: 12px;
        color: #28a745;
        margin-top: 8px;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .metric-change.negative {
        color: #dc3545;
      }

      /* Action Section */
      .action-section {
          display: flex;
          gap: 15px;
          margin-bottom: 40px;
          flex-wrap: wrap;
      }

      .btn {
          padding: 10px 20px;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          display: inline-flex;
          align-items: center;
          gap: 8px;
      }

      .btn-primary {
          background-color: #232f3e;
          color: white;
          box-shadow: 0 2px 8px rgba(35, 47, 62, 0.2);
      }

      .btn-primary:hover {
          background-color: #37475a;
          box-shadow: 0 4px 12px rgba(35, 47, 62, 0.3);
      }

      .btn-secondary {
          background-color: #f3f4f6;
          color: #333;
          border: 1px solid #ddd;
      }

      .btn-secondary:hover {
          background-color: #e5e7eb;
      }

      /* Chart Section */
      .chart-section {
          background: white;
          border-radius: 10px;
          padding: 25px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          margin-bottom: 40px;
      }

      .chart-title {
          font-size: 18px;
          font-weight: 600;
          color: #232f3e;
          margin-bottom: 20px;
          display: flex;
          align-items: center;
          gap: 10px;
      }

      .chart-container {
          position: relative;
          height: 300px;
          margin-bottom: 20px;
      }

      /* Transactions Section */
      .transactions-section {
          background: white;
          border-radius: 10px;
          padding: 25px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .controls {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
          align-items: center;
      }

      .search-box {
          padding: 10px 15px;
          border: 1px solid #ddd;
          border-radius: 6px;
          font-size: 13px;
          width: 200px;
          transition: 0.3s;
      }

      .search-box:focus {
          outline: none;
          border-color: #232f3e;
          box-shadow: 0 0 0 3px rgba(35, 47, 62, 0.1);
      }

      select {
          padding: 10px 15px;
          border: 1px solid #ddd;
          border-radius: 6px;
          font-size: 13px;
          background-color: white;
          cursor: pointer;
          transition: 0.3s;
      }

      select:focus {
          outline: none;
          border-color: #232f3e;
          box-shadow: 0 0 0 3px rgba(35, 47, 62, 0.1);
      }

      /* Table */
      .table-wrapper {
          overflow-x: auto;
          margin-bottom: 20px;
      }

      .status-received {
          background-color: #d4edda;
          color: #155724;
      }

      .status-processing {
          background-color: #fff3cd;
          color: #856404;
      }

      .status-deduction {
          background-color: #f8d7da;
          color: #721c24;
      }

      .status-refund {
          background-color: #d1ecf1;
          color: #0c5460;
      }

      .amount-positive {
          color: #28a745;
          font-weight: 600;
      }

      .amount-negative {
          color: #dc3545;
          font-weight: 600;
      }

      .action-btn {
          color: #0066c0;
          text-decoration: none;
          cursor: pointer;
          font-weight: 600;
          font-size: 13px;
          transition: 0.2s;
      }

      .action-btn:hover {
          color: #232f3e;
          text-decoration: underline;
      }

      /* Modal */
      .modal {
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          z-index: 3000;
          align-items: center;
          justify-content: center;
          padding: 20px;
      }

      .modal.active {
          display: flex;
      }

      .modal-content {
          background: white;
          border-radius: 10px;
          max-width: 500px;
          width: 100%;
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
          animation: slideUp 0.3s ease;
      }

      @keyframes slideUp {
          from {
              transform: translateY(30px);
              opacity: 0;
          }
          to {
              transform: translateY(0);
              opacity: 1;
          }
      }

      .modal-header {
          padding: 20px;
          background-color: #232f3e;
          color: white;
          border-radius: 10px 10px 0 0;
          display: flex;
          justify-content: space-between;
          align-items: center;
      }

      .modal-header h2 {
          margin: 0;
          font-size: 18px;
      }

      .modal-close {
          background: none;
          border: none;
          color: white;
          font-size: 26px;
          cursor: pointer;
          width: 30px;
          height: 30px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: 0.2s;
      }

      .modal-close:hover {
          transform: scale(1.1);
      }

      .modal-body {
          padding: 20px;
      }

      .form-group {
          margin-bottom: 15px;
      }

      .form-group label {
          display: block;
          margin-bottom: 8px;
          font-weight: 600;
          color: #333;
          font-size: 13px;
      }

      .form-group input,
      .form-group select {
          width: 100%;
          padding: 10px 15px;
          border: 1px solid #ddd;
          border-radius: 6px;
          font-size: 13px;
          font-family: inherit;
          transition: 0.3s;
      }

      .form-group input:focus,
      .form-group select:focus {
          outline: none;
          border-color: #232f3e;
          box-shadow: 0 0 0 3px rgba(35, 47, 62, 0.1);
      }

      .modal-footer {
          padding: 15px 20px;
          border-top: 1px solid #ddd;
          display: flex;
          gap: 12px;
          justify-content: flex-end;
      }

      .modal-footer .btn {
          margin: 0;
      }

      /* Responsive */
      @media (max-width: 1024px) {
          .summary-cards {
              flex-direction: column;
          }

          .controls {
              flex-direction: column;
              width: 100%;
          }

          .search-box,
          select {
              width: 100%;
          }
      }

      @media (max-width: 768px) {
          .main-content {
              padding: 15px;
          }

          .sidebar {
              width: 260px;
              left: -260px;
          }

          .sidebar.active {
              left: 0;
          }

          .summary-cards {
              flex-direction: column;
          }

          .card {
              flex: 1 1 100%;
              padding: 15px;
          }

          .card-amount {
              font-size: 20px;
          }

          .section-header {
              flex-direction: column;
              align-items: flex-start;
          }

          .controls {
              flex-direction: column;
              width: 100%;
          }

          .search-box,
          select,
          .btn {
              width: 100%;
          }

          .data-table {
              font-size: 12px;
          }

          .data-table th,
          .data-table td {
              padding: 10px;
          }

          .chart-container {
              height: 250px;
          }

          .modal-content {
              width: 95%;
          }

          .action-section {
              flex-direction: column;
              width: 100%;
          }

          .action-section .btn {
              width: 100%;
              justify-content: center;
          }
      }

      @media (max-width: 710px) {
          .metric-card {
              flex: 1 1 100%;
          }
      }
    </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header>
      <div class="header-btn">
        <button class="toggle-btn" id="toggleBtn"><span class="material-symbols-rounded">menu</span></button>
        <h2>Seller Dashboard</h2>
      </div>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h2>Seller Hub</h2>
        <button class="close-btn" id="closeBtn"><span class="material-symbols-rounded">close</span></button>
      </div>
      <ul class="nav-menu">
        <li class="nav-item"><a href="#" class="active">Payments & Earnings</a></li>
        <li class="nav-item"><a href="#">Orders</a></li>
        <li class="nav-item"><a href="#">Inventory</a></li>
        <li class="nav-item"><a href="#">Shipping & Delivery</a></li>
        <li class="nav-item"><a href="#">Analytics</a></li>
        <li class="nav-item"><a href="#">Settings</a></li>
      </ul>
    </aside>

    <div class="overlay" id="overlay"></div>

    <!-- Main Content -->
    <div class="main-content">
      <div class="page active" id="paymentsPage">
        <h1>Payments & Earnings</h1>

        <!-- Summary Cards -->
        <div class="metrics-grid">
          <div class="metric-card" style="border-left-color: #28a745;">
            <p>Total Earnings</p>
            <div class="metric-value" data-target="12450">$0</div>
            <div class="metric-change"><span class="material-symbols-rounded" style="font-size:16px">trending_up</span> Lifetime earnings</div>
          </div>

          <div class="metric-card" style="border-left-color: #0066c0;">
            <p>Withdrawable Balance</p>
            <div class="metric-value" data-target="5320">$0</div>
            <div class="metric-change"><span class="material-symbols-rounded" style="font-size:16px">account_balance_wallet</span> Ready to withdraw</div>
          </div>

          <div class="metric-card" style="border-left-color: #ffc107;">
            <p>Pending Payouts</p>
            <div class="metric-value" data-target="2150">$0</div>
            <div class="metric-change"><span class="material-symbols-rounded" style="font-size:16px">schedule</span> In 5-7 days</div>
          </div>

          <div class="metric-card" style="border-left-color: #6f42c1;">
            <p>Monthly Earnings</p>
            <div class="metric-value" data-target="3280">$0</div>
            <div class="metric-change"><span class="material-symbols-rounded" style="font-size:16px">calendar_month</span> This month</div>
          </div>

          <div class="metric-card" style="border-left-color: #dc3545;">
            <p>Commission Charged</p>
            <div class="metric-value" data-target="890">-$0</div>
            <div class="metric-change"><span class="material-symbols-rounded" style="font-size:16px">percent</span> This month</div>
          </div>
        </div>

        <!-- Action Section -->
        <div class="action-section">
          <button class="btn btn-primary" onclick="openWithdrawalModal()">
            <span class="material-symbols-rounded">account_balance</span>
            Request Withdrawal
          </button>
          <button class="btn btn-secondary" onclick="exportTransactions()">
            <span class="material-symbols-rounded">download</span>
            Export Transactions
          </button>
        </div>

        <!-- Earnings Chart -->
        <div class="chart-section">
          <h3 class="chart-title">
            <span class="material-symbols-rounded">trending_up</span>
            Monthly Earnings Trend
          </h3>
          <div class="chart-container">
            <canvas id="earningsChart"></canvas>
          </div>
        </div>

        <!-- Transactions Section -->
        <div class="transactions-section">
          <div class="section-header">
            <h2 class="section-title">
              <span class="material-symbols-rounded">receipt_long</span>
              Transaction History
            </h2>
            <div class="controls">
              <input type="text" class="search-box" id="searchInput" placeholder="Search by ID or Description..." onkeyup="filterTransactions()">
              <select id="filterSelect" onchange="filterTransactions()">
                <option value="">All Transactions</option>
                <option value="received">Payments Received</option>
                <option value="processing">Processing</option>
                <option value="deduction">Deductions</option>
                <option value="refund">Refunds</option>
              </select>
            </div>
          </div>

          <!-- Table -->
          <div class="table-wrapper">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Transaction ID</th>
                  <th>Date</th>
                  <th>Type</th>
                  <th>Amount</th>
                  <th>Status</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody id="transactionsTableBody">
                <!-- Populated by JavaScript -->
              </tbody>
            </table>
          </div>

          <!-- Pagination -->
          <div class="pagination" id="paginationControls"></div>
        </div>
      </div>
    </div>
  </div>

    <!-- Modals -->

    <!-- Withdrawal Modal -->
    <div class="modal" id="withdrawalModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Request Withdrawal</h2>
                <button class="modal-close" onclick="closeWithdrawalModal()">×</button>
            </div>
            <div class="modal-body">
                <div style="background-color: #e8f5e9; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #10b981;">
                    <p style="margin: 0; color: #1b5e20; font-weight: 600;">Available Balance: <span id="availableBalance">$5,320.00</span></p>
                </div>

                <div class="form-group">
                    <label>Withdrawal Amount</label>
                    <input type="number" id="withdrawalAmount" placeholder="Enter amount" min="100" max="5320" step="0.01">
                    <small style="color: #999; display: block; margin-top: 5px;">Minimum: $100 | Maximum: $5,320</small>
                </div>

                <div class="form-group">
                    <label>Bank Account</label>
                    <select id="bankAccount">
                        <option value="">Select Bank Account</option>
                        <option value="acc1">Primary Account - ****5432</option>
                        <option value="acc2">Secondary Account - ****9876</option>
                        <option value="acc3">Add New Account</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Processing Fee (Estimated)</label>
                    <input type="text" id="processingFee" value="$2.50" readonly style="background-color: #f3f4f6;">
                </div>

                <div style="background-color: #f9fafb; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="color: #666; font-size: 13px; margin: 0;">
                        <strong>Net Amount:</strong> <span style="color: #232f3e; font-weight: 700; font-size: 16px;" id="netAmount">$5,317.50</span>
                    </p>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="termsCheckbox">
                        <span style="margin-left: 8px; font-size: 13px; color: #666;">I confirm this withdrawal request and accept the processing fee</span>
                    </label>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeWithdrawalModal()">Cancel</button>
                <button class="btn btn-primary" onclick="submitWithdrawal()">Request Withdrawal</button>
            </div>
        </div>
    </div>

    <!-- Transaction Details Modal -->
    <div class="modal" id="transactionModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Transaction Details</h2>
                <button class="modal-close" onclick="closeTransactionModal()">×</button>
            </div>
            <div class="modal-body" id="transactionDetails">
                <!-- Populated by JavaScript -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="downloadInvoice()">Download Invoice</button>
                <button class="btn btn-primary" onclick="closeTransactionModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header" style="background-color: #10b981;">
                <h2>✓ Success</h2>
                <button class="modal-close" onclick="closeSuccessModal()">×</button>
            </div>
            <div class="modal-body" style="text-align: center;">
                <div style="font-size: 64px; margin-bottom: 20px;">✓</div>
                <h3 id="successTitle" style="color: #232f3e; margin-bottom: 10px;"></h3>
                <p id="successMessage" style="color: #666; margin-bottom: 20px;"></p>
            </div>
            <div class="modal-footer" style="justify-content: center;">
                <button class="btn btn-primary" onclick="closeSuccessModal()">Done</button>
            </div>
        </div>
    </div>

    <script>
        // ===== SAMPLE TRANSACTION DATA =====
        const allTransactions = [
            {
                id: 'TXN-20250129-001',
                date: '2025-01-29',
                type: 'Payment received',
                description: 'Order #ORD-001234',
                amount: 120.50,
                status: 'received'
            },
            {
                id: 'TXN-20250129-002',
                date: '2025-01-29',
                type: 'Commission deduction',
                description: 'Platform commission (5%)',
                amount: -6.50,
                status: 'deduction'
            },
            {
                id: 'TXN-20250128-001',
                date: '2025-01-28',
                type: 'Payment received',
                description: 'Order #ORD-001235',
                amount: 89.99,
                status: 'received'
            },
            {
                id: 'TXN-20250128-002',
                date: '2025-01-28',
                type: 'Processing',
                description: 'Withdrawal in progress',
                amount: -500.00,
                status: 'processing'
            },
            {
                id: 'TXN-20250127-001',
                date: '2025-01-27',
                type: 'Refund deduction',
                description: 'Order #ORD-001236 refund',
                amount: -45.00,
                status: 'refund'
            },
            {
                id: 'TXN-20250127-002',
                date: '2025-01-27',
                type: 'Payment received',
                description: 'Order #ORD-001237',
                amount: 250.00,
                status: 'received'
            },
            {
                id: 'TXN-20250126-001',
                date: '2025-01-26',
                type: 'Commission deduction',
                description: 'Platform commission (5%)',
                amount: -12.50,
                status: 'deduction'
            },
            {
                id: 'TXN-20250125-001',
                date: '2025-01-25',
                type: 'Payment received',
                description: 'Order #ORD-001238',
                amount: 175.00,
                status: 'received'
            }
        ];

        // ===== STATE VARIABLES =====
        let currentPage = 1;
        let itemsPerPage = 5;
        let filteredTransactions = [...allTransactions];
        let currentTransaction = null;

        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function() {
            setupSidebar();
            renderTransactions();
            initializeChart();
            animateMetrics();
        });

        // ===== ANIMATE METRIC NUMBERS =====
        function animateMetrics() {
            const metricCards = document.querySelectorAll('.metric-value');
            metricCards.forEach(card => {
                const target = parseInt(card.getAttribute('data-target'));
                const increment = Math.ceil(target / 30);
                let current = 0;

                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    const text = card.textContent.includes('-') ? '-$' : '$';
                    card.textContent = text + current.toLocaleString();
                }, 30);
            });
        }

        // ===== SIDEBAR SETUP =====
        function setupSidebar() {
            const sidebar = document.querySelector('.sidebar');
            const toggleBtn = document.getElementById('toggleBtn');
            const overlay = document.getElementById('overlay');
            const closeBtn = document.getElementById('closeBtn');

            toggleBtn.addEventListener('click', function() {
                sidebar.classList.add('active');
                overlay.classList.add('active');
            });

            closeBtn.addEventListener('click', function() {
                sidebar.classList.remove('active');
                overlay.classList.remove('active');
            });

            overlay.addEventListener('click', function() {
                sidebar.classList.remove('active');
                overlay.classList.remove('active');
            });
        }

        // ===== CHART INITIALIZATION =====
        function initializeChart() {
            const ctx = document.getElementById('earningsChart').getContext('2d');

            const data = {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [
                    {
                        label: 'Total Earnings',
                        data: [2500, 2800, 3100, 2900, 3400, 3800, 3200, 3600, 3400, 3700, 3280, 3500],
                        borderColor: '#232f3e',
                        backgroundColor: 'rgba(35, 47, 62, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 5,
                        pointBackgroundColor: '#232f3e',
                        pointBorderColor: 'white',
                        pointBorderWidth: 2,
                        pointHoverRadius: 7
                    }
                ]
            };

            new Chart(ctx, {
                type: 'line',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                }
                            }
                        }
                    }
                }
            });
        }

        // ===== FILTER TRANSACTIONS =====
        function filterTransactions() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const filterType = document.getElementById('filterSelect').value;

            filteredTransactions = allTransactions.filter(transaction => {
                const matchesSearch = transaction.id.toLowerCase().includes(searchTerm) ||
                    transaction.description.toLowerCase().includes(searchTerm);
                const matchesFilter = !filterType || transaction.status === filterType;
                return matchesSearch && matchesFilter;
            });

            currentPage = 1;
            renderTransactions();
        }

        // ===== RENDER TRANSACTIONS TABLE =====
        function renderTransactions() {
            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const pageData = filteredTransactions.slice(start, end);

            const tbody = document.getElementById('transactionsTableBody');

            if (pageData.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 40px; color: #999;">
                            No transactions found
                        </td>
                    </tr>
                `;
                document.getElementById('paginationControls').innerHTML = '';
                return;
            }

            tbody.innerHTML = pageData.map(transaction => {
                const statusBadgeClass = {
                    'received': 'status-received',
                    'processing': 'status-processing',
                    'deduction': 'status-deduction',
                    'refund': 'status-refund'
                }[transaction.status] || 'status-received';

                const amountClass = transaction.amount >= 0 ? 'amount-positive' : 'amount-negative';
                const amountSign = transaction.amount >= 0 ? '+' : '';

                return `
                    <tr>
                        <td><strong>${transaction.id}</strong></td>
                        <td>${new Date(transaction.date).toLocaleDateString()}</td>
                        <td>${transaction.type}</td>
                        <td class="${amountClass}">${amountSign}$${Math.abs(transaction.amount).toFixed(2)}</td>
                        <td><span class="status-badge ${statusBadgeClass}">${transaction.status.charAt(0).toUpperCase() + transaction.status.slice(1)}</span></td>
                        <td><a class="action-btn" onclick="viewTransactionDetails('${transaction.id}')">View</a></td>
                    </tr>
                `;
            }).join('');

            renderPagination();
        }

        // ===== PAGINATION =====
        function renderPagination() {
            const totalPages = Math.ceil(filteredTransactions.length / itemsPerPage);
            const container = document.getElementById('paginationControls');

            if (totalPages <= 1) {
                container.innerHTML = '';
                return;
            }

            let html = '';

            if (currentPage > 1) {
                html += `<button onclick="goToPage(${currentPage - 1})">← Previous</button>`;
            }

            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
                    html += `<button onclick="goToPage(${i})" class="${currentPage === i ? 'active' : ''}">${i}</button>`;
                } else if (i === currentPage - 2 || i === currentPage + 2) {
                    html += `<button disabled>...</button>`;
                }
            }

            if (currentPage < totalPages) {
                html += `<button onclick="goToPage(${currentPage + 1})">Next →</button>`;
            }

            container.innerHTML = html;
        }

        function goToPage(page) {
            currentPage = page;
            renderTransactions();
        }

        // ===== WITHDRAWAL MODAL =====
        function openWithdrawalModal() {
            document.getElementById('withdrawalModal').classList.add('active');
            updateWithdrawalCalculation();
        }

        function closeWithdrawalModal() {
            document.getElementById('withdrawalModal').classList.remove('active');
            document.getElementById('withdrawalAmount').value = '';
            document.getElementById('bankAccount').value = '';
            document.getElementById('termsCheckbox').checked = false;
        }

        function updateWithdrawalCalculation() {
            const amount = parseFloat(document.getElementById('withdrawalAmount').value) || 0;
            const fee = 2.50;
            const net = amount - fee;

            document.getElementById('processingFee').value = '$' + fee.toFixed(2);
            document.getElementById('netAmount').textContent = '$' + net.toFixed(2);
        }

        document.getElementById('withdrawalAmount').addEventListener('input', updateWithdrawalCalculation);

        function submitWithdrawal() {
            const amount = parseFloat(document.getElementById('withdrawalAmount').value);
            const bankAccount = document.getElementById('bankAccount').value;
            const termsChecked = document.getElementById('termsCheckbox').checked;

            if (!amount || amount < 100) {
                alert('Please enter an amount of at least $100');
                return;
            }

            if (!bankAccount) {
                alert('Please select a bank account');
                return;
            }

            if (!termsChecked) {
                alert('Please confirm the terms and conditions');
                return;
            }

            closeWithdrawalModal();
            showSuccessModal('Withdrawal Requested', `Your withdrawal request for $${amount.toFixed(2)} has been submitted successfully. You will receive the funds in 2-3 business days.`);
        }

        // ===== TRANSACTION DETAILS =====
        function viewTransactionDetails(transactionId) {
            currentTransaction = allTransactions.find(t => t.id === transactionId);

            if (!currentTransaction) return;

            const details = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div>
                        <p style="color: #999; font-size: 12px; margin-bottom: 5px;">Transaction ID</p>
                        <p style="font-weight: 600; color: #333;">${currentTransaction.id}</p>
                    </div>
                    <div>
                        <p style="color: #999; font-size: 12px; margin-bottom: 5px;">Date</p>
                        <p style="font-weight: 600; color: #333;">${new Date(currentTransaction.date).toLocaleDateString()}</p>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div>
                        <p style="color: #999; font-size: 12px; margin-bottom: 5px;">Type</p>
                        <p style="font-weight: 600; color: #333;">${currentTransaction.type}</p>
                    </div>
                    <div>
                        <p style="color: #999; font-size: 12px; margin-bottom: 5px;">Amount</p>
                        <p style="font-weight: 600; font-size: 16px; color: ${currentTransaction.amount >= 0 ? '#10b981' : '#ef4444'};">
                            ${currentTransaction.amount >= 0 ? '+' : ''}$${Math.abs(currentTransaction.amount).toFixed(2)}
                        </p>
                    </div>
                </div>

                <div style="background-color: #f9fafb; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="color: #999; font-size: 12px; margin-bottom: 5px;">Description</p>
                    <p style="font-weight: 600; color: #333; margin: 0;">${currentTransaction.description}</p>
                </div>

                <div style="background-color: #f9fafb; padding: 15px; border-radius: 8px;">
                    <p style="color: #999; font-size: 12px; margin-bottom: 5px;">Status</p>
                    <p style="margin: 0;">${getStatusBadge(currentTransaction.status)}</p>
                </div>
            `;

            document.getElementById('transactionDetails').innerHTML = details;
            document.getElementById('transactionModal').classList.add('active');
        }

        function closeTransactionModal() {
            document.getElementById('transactionModal').classList.remove('active');
        }

        function getStatusBadge(status) {
            const badges = {
                'received': '<span class="status-badge status-received">Payment Received</span>',
                'processing': '<span class="status-badge status-processing">Processing</span>',
                'deduction': '<span class="status-badge status-deduction">Deduction</span>',
                'refund': '<span class="status-badge status-refund">Refund</span>'
            };
            return badges[status] || badges['received'];
        }

        function downloadInvoice() {
            if (!currentTransaction) return;
            alert(`Invoice for ${currentTransaction.id} downloaded successfully!`);
            closeTransactionModal();
        }

        // ===== SUCCESS MODAL =====
        function showSuccessModal(title, message) {
            document.getElementById('successTitle').textContent = title;
            document.getElementById('successMessage').textContent = message;
            document.getElementById('successModal').classList.add('active');
        }

        function closeSuccessModal() {
            document.getElementById('successModal').classList.remove('active');
        }

        // ===== EXPORT TRANSACTIONS =====
        function exportTransactions() {
            let csv = 'Transaction ID,Date,Type,Description,Amount,Status\n';

            filteredTransactions.forEach(transaction => {
                csv += `"${transaction.id}","${transaction.date}","${transaction.type}","${transaction.description}","${transaction.amount}","${transaction.status}"\n`;
            });

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `transactions-${new Date().toISOString().slice(0, 10)}.csv`;
            link.click();
            window.URL.revokeObjectURL(url);

            alert('Transactions exported successfully!');
        }

        // Close modals on outside click
        window.addEventListener('click', function(event) {
            if (event.target.classList && event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        });
    </script>
</body>
</html>
